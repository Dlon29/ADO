--------------------------------START TABLE SCRIPT FOR Security---------------------------------------------------------

USE [REFERENCE]
GO

IF EXISTS
(
    SELECT *
    FROM sys.objects
    WHERE object_id = OBJECT_ID(N'dbo.Security')
          AND type IN ( N'U' )
)
   AND NOT EXISTS
(
    SELECT *
    FROM sys.objects
    WHERE object_id = OBJECT_ID(N'dbo.Security_GCR')
          AND type IN ( N'U' )
)
BEGIN
	IF EXISTS
    (
        SELECT *
        FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS
        WHERE CONSTRAINT_NAME = 'PK_Security'
    )
        ALTER TABLE dbo.Security DROP CONSTRAINT PK_Security;


    IF EXISTS
    (
        SELECT *
        FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS
        WHERE CONSTRAINT_NAME = 'IX_Security_1'
    )
        ALTER TABLE dbo.Security DROP CONSTRAINT IX_Security_1;


	IF EXISTS
    (
        SELECT *
        FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS
        WHERE CONSTRAINT_NAME = 'IX_Security_2'
    )
        ALTER TABLE dbo.Security DROP CONSTRAINT IX_Security_2;


	IF EXISTS
    (
        SELECT *
        FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS
        WHERE CONSTRAINT_NAME = 'IX_Security_3'
    )
        ALTER TABLE dbo.Security DROP CONSTRAINT IX_Security_3;


	IF EXISTS
    (
        SELECT *
        FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS
        WHERE CONSTRAINT_NAME = 'IX_Security_4'
    )
        ALTER TABLE dbo.Security DROP CONSTRAINT IX_Security_4;


	IF EXISTS
    (
        SELECT *
        FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS
        WHERE CONSTRAINT_NAME = 'IX_Security_5'
    )
        ALTER TABLE dbo.Security DROP CONSTRAINT IX_Security_5;


	IF EXISTS
    (
        SELECT *
        FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS
        WHERE CONSTRAINT_NAME = 'IX_Security_6'
    )
        ALTER TABLE dbo.Security DROP CONSTRAINT IX_Security_6;


	IF EXISTS
    (
        SELECT *
        FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS
        WHERE CONSTRAINT_NAME = 'IX_Security_7'
    )
        ALTER TABLE dbo.Security DROP CONSTRAINT IX_Security_7;

    EXEC sp_rename 'Security', 'Security_GCR';

	CREATE TABLE dbo.Security
	(		
		SecID				 INT			 NOT NULL,
		SecCategoryID        INT             NOT NULL,		
		CountryID            INT             NOT NULL,		
		SecCode              VARCHAR (12)    NULL,
		SecTypeAbb           VARCHAR (2)     NULL,
		CUSIP                VARCHAR (9)     NULL,
		SEDOL                VARCHAR (7)     NULL,
		ISIN                 VARCHAR (12)    NULL,
		SecurityDesc1        VARCHAR (40)    NULL,
		SecurityDesc2        VARCHAR (40)    NULL,
		SecurityCategoryCode VARCHAR (3)     NOT NULL,
		CCYCode              VARCHAR (10)    NOT NULL,
		ISOCountry           VARCHAR (2)     NOT NULL,
		CountryName          VARCHAR (40)    NOT NULL,		
		SecType              VARCHAR (1)     NULL,
		PaymentFrequencyCode VARCHAR (10)    NULL,		
		DatedDate            DATETIME        NULL,
		MaturityDate         DATETIME        NULL,		
		CouponRate           DECIMAL (12, 7) NULL,
		BankSecurityNbr      VARCHAR (12)    NULL,
		TickSymb             VARCHAR (12)    NULL,
		Class1               VARCHAR (10)    NULL,
		Class2               VARCHAR (10)    NULL,
		Class3               VARCHAR (10)    NULL,
		PoolNbr              VARCHAR (10)    NULL,		
		NumDaysDelay         INT             NULL,		
		FirstInterestDate    DATETIME        NULL,
		NextInterestDate     DATETIME        NULL,
		RecordDate           DATETIME        NULL,
		PrevInterestDate     DATETIME        NULL,		
		NextCallDate         DATETIME        NULL,		
		SecTypeCode          VARCHAR (7)     NULL,
		BucketSecurityType   CHAR (2)        NULL,
		BucketSecurityLoc    CHAR (2)        NULL,
		ProdSortCode         SMALLINT        NULL,
		BaNCSSecId			 VARCHAR(35)	 NULL,
		MarketPlace			 VARCHAR(35)	 NULL,
		CouponRateFull		 DECIMAL(31,15)	 NULL,
		SecurityDesc		 VARCHAR(105)	 NULL,
		SecurityDescShort	 VARCHAR(35)	 NULL,
		InstrmntTypeMnmnc	 DECIMAL(5,0)	 NULL,
		InstrmntTypeDesc	 VARCHAR(65)	 NULL,
		InstrmntSubTypeMnmnc VARCHAR(5)	     NULL,
		InstrmntSubTypeDesc	 VARCHAR(65)	 NULL,
		SMTBUSAPriceGroupID	 VARCHAR(400)	 NULL,
		BaNCSBusinessDate	 DATE			 NULL,
		FileHeaderDate		 DATETIME		 NULL,
		PoolFactor			 DECIMAL(31,15)	 NULL,
		FactorDate			 VARCHAR(10)	 NULL,
		Price				 DECIMAL(31,15)	 NULL,
		CommonCode			 VARCHAR(35)	 NULL,
		PayDate				 DATETIME		 NULL,
		PricingDate			 DATETIME		 NULL,
		RecordIdentifier	 VARCHAR(35)	 NULL,
		CreatedBy			 VARCHAR(50)	 NULL,
		CreatedDate			 DATETIME		 NULL,
		ModifiedBy			 VARCHAR(50)	 NULL,
		ModifiedDate         DATETIME        NULL,			
		CONSTRAINT PK_Security
			PRIMARY KEY CLUSTERED (SecID ASC)
			WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON,
				  ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF
				 ) ON [PRIMARY]
	) ON [PRIMARY];

END;

GO

CREATE NONCLUSTERED INDEX [IX_Security_1] ON [dbo].[Security] 
(
	[SecCode] ASC
)WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, SORT_IN_TEMPDB = OFF, IGNORE_DUP_KEY = OFF, DROP_EXISTING = OFF, ONLINE = OFF, ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON) ON [PRIMARY]
GO

CREATE NONCLUSTERED INDEX [IX_Security_2] ON [dbo].[Security] 
(
	[CUSIP] ASC
)WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, SORT_IN_TEMPDB = OFF, IGNORE_DUP_KEY = OFF, DROP_EXISTING = OFF, ONLINE = OFF, ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON) ON [PRIMARY]
GO

CREATE NONCLUSTERED INDEX [IX_Security_3] ON [dbo].[Security] 
(
	[ISIN] ASC
)WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, SORT_IN_TEMPDB = OFF, IGNORE_DUP_KEY = OFF, DROP_EXISTING = OFF, ONLINE = OFF, ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON) ON [PRIMARY]
GO

CREATE NONCLUSTERED INDEX [IX_Security_4] ON [dbo].[Security] 
(
	[SEDOL] ASC
)WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, SORT_IN_TEMPDB = OFF, IGNORE_DUP_KEY = OFF, DROP_EXISTING = OFF, ONLINE = OFF, ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON) ON [PRIMARY]
GO

CREATE NONCLUSTERED INDEX [IX_Security_5] ON [dbo].[Security] 
(
	[TickSymb] ASC
)WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, SORT_IN_TEMPDB = OFF, IGNORE_DUP_KEY = OFF, DROP_EXISTING = OFF, ONLINE = OFF, ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON) ON [PRIMARY]
GO

CREATE NONCLUSTERED INDEX [IX_Security_6] ON [dbo].[Security] 
(
	[SecID] ASC,
	[ISOCountry] ASC
)WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, SORT_IN_TEMPDB = OFF, IGNORE_DUP_KEY = OFF, DROP_EXISTING = OFF, ONLINE = OFF, ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON) ON [PRIMARY]
GO

CREATE NONCLUSTERED INDEX [IX_Security_7] ON [dbo].[Security] 
(
	[NextInterestDate] ASC
)WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, SORT_IN_TEMPDB = OFF, IGNORE_DUP_KEY = OFF, DROP_EXISTING = OFF, ONLINE = OFF, ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON) ON [PRIMARY]
GO

IF  EXISTS (SELECT * FROM sys.fn_listextendedproperty(N'MS_Description' , N'SCHEMA',N'dbo', N'TABLE',N'Security', N'COLUMN',N'SecID'))
EXEC sys.sp_dropextendedproperty @name=N'MS_Description' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'SecID'
GO

IF  EXISTS (SELECT * FROM sys.fn_listextendedproperty(N'MS_Description' , N'SCHEMA',N'dbo', N'TABLE',N'Security', N'COLUMN',N'SecCategoryID'))
EXEC sys.sp_dropextendedproperty @name=N'MS_Description' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'SecCategoryID'
GO

IF  EXISTS (SELECT * FROM sys.fn_listextendedproperty(N'MS_Description' , N'SCHEMA',N'dbo', N'TABLE',N'Security', N'COLUMN',N'CountryID'))
EXEC sys.sp_dropextendedproperty @name=N'MS_Description' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'CountryID'
GO

IF  EXISTS (SELECT * FROM sys.fn_listextendedproperty(N'MS_Description' , N'SCHEMA',N'dbo', N'TABLE',N'Security', N'COLUMN',N'SecCode'))
EXEC sys.sp_dropextendedproperty @name=N'MS_Description' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'SecCode'
GO

IF  EXISTS (SELECT * FROM sys.fn_listextendedproperty(N'MS_Description' , N'SCHEMA',N'dbo', N'TABLE',N'Security', N'COLUMN',N'SecTypeAbb'))
EXEC sys.sp_dropextendedproperty @name=N'MS_Description' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'SecTypeAbb'
GO

IF  EXISTS (SELECT * FROM sys.fn_listextendedproperty(N'MS_Description' , N'SCHEMA',N'dbo', N'TABLE',N'Security', N'COLUMN',N'CUSIP'))
EXEC sys.sp_dropextendedproperty @name=N'MS_Description' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'CUSIP'
GO

IF  EXISTS (SELECT * FROM sys.fn_listextendedproperty(N'MS_Description' , N'SCHEMA',N'dbo', N'TABLE',N'Security', N'COLUMN',N'SEDOL'))
EXEC sys.sp_dropextendedproperty @name=N'MS_Description' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'SEDOL'
GO

IF  EXISTS (SELECT * FROM sys.fn_listextendedproperty(N'MS_Description' , N'SCHEMA',N'dbo', N'TABLE',N'Security', N'COLUMN',N'ISIN'))
EXEC sys.sp_dropextendedproperty @name=N'MS_Description' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'ISIN'
GO

IF  EXISTS (SELECT * FROM sys.fn_listextendedproperty(N'MS_Description' , N'SCHEMA',N'dbo', N'TABLE',N'Security', N'COLUMN',N'SecurityDesc1'))
EXEC sys.sp_dropextendedproperty @name=N'MS_Description' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'SecurityDesc1'
GO

IF  EXISTS (SELECT * FROM sys.fn_listextendedproperty(N'MS_Description' , N'SCHEMA',N'dbo', N'TABLE',N'Security', N'COLUMN',N'SecurityDesc2'))
EXEC sys.sp_dropextendedproperty @name=N'MS_Description' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'SecurityDesc2'
GO

IF  EXISTS (SELECT * FROM sys.fn_listextendedproperty(N'MS_Description' , N'SCHEMA',N'dbo', N'TABLE',N'Security', N'COLUMN',N'SecurityCategoryCode'))
EXEC sys.sp_dropextendedproperty @name=N'MS_Description' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'SecurityCategoryCode'
GO

IF  EXISTS (SELECT * FROM sys.fn_listextendedproperty(N'MS_Description' , N'SCHEMA',N'dbo', N'TABLE',N'Security', N'COLUMN',N'CCYCode'))
EXEC sys.sp_dropextendedproperty @name=N'MS_Description' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'CCYCode'
GO

IF  EXISTS (SELECT * FROM sys.fn_listextendedproperty(N'MS_Description' , N'SCHEMA',N'dbo', N'TABLE',N'Security', N'COLUMN',N'ISOCountry'))
EXEC sys.sp_dropextendedproperty @name=N'MS_Description' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'ISOCountry'
GO

IF  EXISTS (SELECT * FROM sys.fn_listextendedproperty(N'MS_Description' , N'SCHEMA',N'dbo', N'TABLE',N'Security', N'COLUMN',N'CountryName'))
EXEC sys.sp_dropextendedproperty @name=N'MS_Description' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'CountryName'
GO

IF  EXISTS (SELECT * FROM sys.fn_listextendedproperty(N'MS_Description' , N'SCHEMA',N'dbo', N'TABLE',N'Security', N'COLUMN',N'SecType'))
EXEC sys.sp_dropextendedproperty @name=N'MS_Description' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'SecType'
GO

IF  EXISTS (SELECT * FROM sys.fn_listextendedproperty(N'MS_Description' , N'SCHEMA',N'dbo', N'TABLE',N'Security', N'COLUMN',N'PaymentFrequencyCode'))
EXEC sys.sp_dropextendedproperty @name=N'MS_Description' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'PaymentFrequencyCode'
GO

IF  EXISTS (SELECT * FROM sys.fn_listextendedproperty(N'MS_Description' , N'SCHEMA',N'dbo', N'TABLE',N'Security', N'COLUMN',N'DatedDate'))
EXEC sys.sp_dropextendedproperty @name=N'MS_Description' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'DatedDate'
GO

IF  EXISTS (SELECT * FROM sys.fn_listextendedproperty(N'MS_Description' , N'SCHEMA',N'dbo', N'TABLE',N'Security', N'COLUMN',N'MaturityDate'))
EXEC sys.sp_dropextendedproperty @name=N'MS_Description' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'MaturityDate'
GO

IF  EXISTS (SELECT * FROM sys.fn_listextendedproperty(N'MS_Description' , N'SCHEMA',N'dbo', N'TABLE',N'Security', N'COLUMN',N'CouponRate'))
EXEC sys.sp_dropextendedproperty @name=N'MS_Description' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'CouponRate'
GO

IF  EXISTS (SELECT * FROM sys.fn_listextendedproperty(N'MS_Description' , N'SCHEMA',N'dbo', N'TABLE',N'Security', N'COLUMN',N'BankSecurityNbr'))
EXEC sys.sp_dropextendedproperty @name=N'MS_Description' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'BankSecurityNbr'
GO

IF  EXISTS (SELECT * FROM sys.fn_listextendedproperty(N'MS_Description' , N'SCHEMA',N'dbo', N'TABLE',N'Security', N'COLUMN',N'TickSymb'))
EXEC sys.sp_dropextendedproperty @name=N'MS_Description' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'TickSymb'
GO

IF  EXISTS (SELECT * FROM sys.fn_listextendedproperty(N'MS_Description' , N'SCHEMA',N'dbo', N'TABLE',N'Security', N'COLUMN',N'Class1'))
EXEC sys.sp_dropextendedproperty @name=N'MS_Description' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'Class1'
GO

IF  EXISTS (SELECT * FROM sys.fn_listextendedproperty(N'MS_Description' , N'SCHEMA',N'dbo', N'TABLE',N'Security', N'COLUMN',N'Class2'))
EXEC sys.sp_dropextendedproperty @name=N'MS_Description' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'Class2'
GO

IF  EXISTS (SELECT * FROM sys.fn_listextendedproperty(N'MS_Description' , N'SCHEMA',N'dbo', N'TABLE',N'Security', N'COLUMN',N'Class3'))
EXEC sys.sp_dropextendedproperty @name=N'MS_Description' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'Class3'
GO

IF  EXISTS (SELECT * FROM sys.fn_listextendedproperty(N'MS_Description' , N'SCHEMA',N'dbo', N'TABLE',N'Security', N'COLUMN',N'PoolNbr'))
EXEC sys.sp_dropextendedproperty @name=N'MS_Description' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'PoolNbr'
GO

IF  EXISTS (SELECT * FROM sys.fn_listextendedproperty(N'MS_Description' , N'SCHEMA',N'dbo', N'TABLE',N'Security', N'COLUMN',N'NumDaysDelay'))
EXEC sys.sp_dropextendedproperty @name=N'MS_Description' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'NumDaysDelay'
GO

IF  EXISTS (SELECT * FROM sys.fn_listextendedproperty(N'MS_Description' , N'SCHEMA',N'dbo', N'TABLE',N'Security', N'COLUMN',N'FirstInterestDate'))
EXEC sys.sp_dropextendedproperty @name=N'MS_Description' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'FirstInterestDate'
GO

IF  EXISTS (SELECT * FROM sys.fn_listextendedproperty(N'MS_Description' , N'SCHEMA',N'dbo', N'TABLE',N'Security', N'COLUMN',N'NextInterestDate'))
EXEC sys.sp_dropextendedproperty @name=N'MS_Description' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'NextInterestDate'
GO

IF  EXISTS (SELECT * FROM sys.fn_listextendedproperty(N'MS_Description' , N'SCHEMA',N'dbo', N'TABLE',N'Security', N'COLUMN',N'RecordDate'))
EXEC sys.sp_dropextendedproperty @name=N'MS_Description' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'RecordDate'
GO

IF  EXISTS (SELECT * FROM sys.fn_listextendedproperty(N'MS_Description' , N'SCHEMA',N'dbo', N'TABLE',N'Security', N'COLUMN',N'PrevInterestDate'))
EXEC sys.sp_dropextendedproperty @name=N'MS_Description' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'PrevInterestDate'
GO

IF  EXISTS (SELECT * FROM sys.fn_listextendedproperty(N'MS_Description' , N'SCHEMA',N'dbo', N'TABLE',N'Security', N'COLUMN',N'NextCallDate'))
EXEC sys.sp_dropextendedproperty @name=N'MS_Description' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'NextCallDate'
GO

IF  EXISTS (SELECT * FROM sys.fn_listextendedproperty(N'MS_Description' , N'SCHEMA',N'dbo', N'TABLE',N'Security', N'COLUMN',N'SecTypeCode'))
EXEC sys.sp_dropextendedproperty @name=N'MS_Description' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'SecTypeCode'
GO

IF  EXISTS (SELECT * FROM sys.fn_listextendedproperty(N'MS_Description' , N'SCHEMA',N'dbo', N'TABLE',N'Security', N'COLUMN',N'BucketSecurityType'))
EXEC sys.sp_dropextendedproperty @name=N'MS_Description' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'BucketSecurityType'
GO

IF  EXISTS (SELECT * FROM sys.fn_listextendedproperty(N'MS_Description' , N'SCHEMA',N'dbo', N'TABLE',N'Security', N'COLUMN',N'BucketSecurityLoc'))
EXEC sys.sp_dropextendedproperty @name=N'MS_Description' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'BucketSecurityLoc'
GO

IF  EXISTS (SELECT * FROM sys.fn_listextendedproperty(N'MS_Description' , N'SCHEMA',N'dbo', N'TABLE',N'Security', N'COLUMN',N'ProdSortCode'))
EXEC sys.sp_dropextendedproperty @name=N'MS_Description' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'ProdSortCode'
GO

IF  EXISTS (SELECT * FROM sys.fn_listextendedproperty(N'MS_Description' , N'SCHEMA',N'dbo', N'TABLE',N'Security', N'COLUMN',N'BaNCSSecId'))
EXEC sys.sp_dropextendedproperty @name=N'MS_Description' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'BaNCSSecId'
GO

IF  EXISTS (SELECT * FROM sys.fn_listextendedproperty(N'MS_Description' , N'SCHEMA',N'dbo', N'TABLE',N'Security', N'COLUMN',N'MarketPlace'))
EXEC sys.sp_dropextendedproperty @name=N'MS_Description' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'MarketPlace'
GO

IF  EXISTS (SELECT * FROM sys.fn_listextendedproperty(N'MS_Description' , N'SCHEMA',N'dbo', N'TABLE',N'Security', N'COLUMN',N'CouponRateFull'))
EXEC sys.sp_dropextendedproperty @name=N'MS_Description' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'CouponRateFull'
GO

IF  EXISTS (SELECT * FROM sys.fn_listextendedproperty(N'MS_Description' , N'SCHEMA',N'dbo', N'TABLE',N'Security', N'COLUMN',N'SecurityDesc'))
EXEC sys.sp_dropextendedproperty @name=N'MS_Description' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'SecurityDesc'
GO

IF  EXISTS (SELECT * FROM sys.fn_listextendedproperty(N'MS_Description' , N'SCHEMA',N'dbo', N'TABLE',N'Security', N'COLUMN',N'SecurityDescShort'))
EXEC sys.sp_dropextendedproperty @name=N'MS_Description' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'SecurityDescShort'
GO

IF  EXISTS (SELECT * FROM sys.fn_listextendedproperty(N'MS_Description' , N'SCHEMA',N'dbo', N'TABLE',N'Security', N'COLUMN',N'InstrmntTypeMnmnc'))
EXEC sys.sp_dropextendedproperty @name=N'MS_Description' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'InstrmntTypeMnmnc'
GO

IF  EXISTS (SELECT * FROM sys.fn_listextendedproperty(N'MS_Description' , N'SCHEMA',N'dbo', N'TABLE',N'Security', N'COLUMN',N'InstrmntTypeDesc'))
EXEC sys.sp_dropextendedproperty @name=N'MS_Description' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'InstrmntTypeDesc'
GO

IF  EXISTS (SELECT * FROM sys.fn_listextendedproperty(N'MS_Description' , N'SCHEMA',N'dbo', N'TABLE',N'Security', N'COLUMN',N'InstrmntSubTypeMnmnc'))
EXEC sys.sp_dropextendedproperty @name=N'MS_Description' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'InstrmntSubTypeMnmnc'
GO

IF  EXISTS (SELECT * FROM sys.fn_listextendedproperty(N'MS_Description' , N'SCHEMA',N'dbo', N'TABLE',N'Security', N'COLUMN',N'InstrmntSubTypeDesc'))
EXEC sys.sp_dropextendedproperty @name=N'MS_Description' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'InstrmntSubTypeDesc'
GO

IF  EXISTS (SELECT * FROM sys.fn_listextendedproperty(N'MS_Description' , N'SCHEMA',N'dbo', N'TABLE',N'Security', N'COLUMN',N'SMTBUSAPriceGroupID'))
EXEC sys.sp_dropextendedproperty @name=N'MS_Description' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'SMTBUSAPriceGroupID'
GO

IF  EXISTS (SELECT * FROM sys.fn_listextendedproperty(N'MS_Description' , N'SCHEMA',N'dbo', N'TABLE',N'Security', N'COLUMN',N'BaNCSBusinessDate'))
EXEC sys.sp_dropextendedproperty @name=N'MS_Description' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'BaNCSBusinessDate'
GO

IF  EXISTS (SELECT * FROM sys.fn_listextendedproperty(N'MS_Description' , N'SCHEMA',N'dbo', N'TABLE',N'Security', N'COLUMN',N'FileHeaderDate'))
EXEC sys.sp_dropextendedproperty @name=N'MS_Description' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'FileHeaderDate'
GO

IF  EXISTS (SELECT * FROM sys.fn_listextendedproperty(N'MS_Description' , N'SCHEMA',N'dbo', N'TABLE',N'Security', N'COLUMN',N'PoolFactor'))
EXEC sys.sp_dropextendedproperty @name=N'MS_Description' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'PoolFactor'
GO

IF  EXISTS (SELECT * FROM sys.fn_listextendedproperty(N'MS_Description' , N'SCHEMA',N'dbo', N'TABLE',N'Security', N'COLUMN',N'FactorDate'))
EXEC sys.sp_dropextendedproperty @name=N'MS_Description' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'FactorDate'
GO

IF  EXISTS (SELECT * FROM sys.fn_listextendedproperty(N'MS_Description' , N'SCHEMA',N'dbo', N'TABLE',N'Security', N'COLUMN',N'Price'))
EXEC sys.sp_dropextendedproperty @name=N'MS_Description' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'Price'
GO

IF  EXISTS (SELECT * FROM sys.fn_listextendedproperty(N'MS_Description' , N'SCHEMA',N'dbo', N'TABLE',N'Security', N'COLUMN',N'CommonCode'))
EXEC sys.sp_dropextendedproperty @name=N'MS_Description' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'CommonCode'
GO

IF  EXISTS (SELECT * FROM sys.fn_listextendedproperty(N'MS_Description' , N'SCHEMA',N'dbo', N'TABLE',N'Security', N'COLUMN',N'PayDate'))
EXEC sys.sp_dropextendedproperty @name=N'MS_Description' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'PayDate'
GO

IF  EXISTS (SELECT * FROM sys.fn_listextendedproperty(N'MS_Description' , N'SCHEMA',N'dbo', N'TABLE',N'Security', N'COLUMN',N'PricingDate'))
EXEC sys.sp_dropextendedproperty @name=N'MS_Description' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'PricingDate'
GO

IF  EXISTS (SELECT * FROM sys.fn_listextendedproperty(N'MS_Description' , N'SCHEMA',N'dbo', N'TABLE',N'Security', N'COLUMN',N'RecordIdentifier'))
EXEC sys.sp_dropextendedproperty @name=N'MS_Description' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'RecordIdentifier'
GO

IF  EXISTS (SELECT * FROM sys.fn_listextendedproperty(N'MS_Description' , N'SCHEMA',N'dbo', N'TABLE',N'Security', N'COLUMN',N'CreatedBy'))
EXEC sys.sp_dropextendedproperty @name=N'MS_Description' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'CreatedBy'
GO

IF  EXISTS (SELECT * FROM sys.fn_listextendedproperty(N'MS_Description' , N'SCHEMA',N'dbo', N'TABLE',N'Security', N'COLUMN',N'CreatedDate'))
EXEC sys.sp_dropextendedproperty @name=N'MS_Description' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'CreatedDate'
GO

IF  EXISTS (SELECT * FROM sys.fn_listextendedproperty(N'MS_Description' , N'SCHEMA',N'dbo', N'TABLE',N'Security', N'COLUMN',N'ModifiedBy'))
EXEC sys.sp_dropextendedproperty @name=N'MS_Description' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'ModifiedBy'
GO

IF  EXISTS (SELECT * FROM sys.fn_listextendedproperty(N'MS_Description' , N'SCHEMA',N'dbo', N'TABLE',N'Security', N'COLUMN',N'ModifiedDate'))
EXEC sys.sp_dropextendedproperty @name=N'MS_Description' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'ModifiedDate'
GO


EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'G+ Security Table ID' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'SecID'
GO

EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'G+ Sec Category table ID' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'SecCategoryID'
GO

EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'G+ Country Table ID' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'CountryID'
GO

EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Sec ID in G+, could be either of CUSIP, ISIN or SEDOL based on SecTypeAbb' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'SecCode'
GO

EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Indictor for SecCode column' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'SecTypeAbb'
GO

EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Sec ID in USA or CAD' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'CUSIP'
GO

EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Sec ID in UK' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'SEDOL'
GO

EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Sec ID in global' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'ISIN'
GO

EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Sec explanation' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'SecurityDesc1'
GO

EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'DTC for bond' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'SecurityDesc2'
GO

EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Stock or Bond' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'SecurityCategoryCode'
GO

EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Currency Code, such us USD or AUD' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'CCYCode'
GO

EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'G+ table ISOCountry' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'ISOCountry'
GO

EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Country where sec name issued' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'CountryName'
GO

EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'G+ Sec table Type' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'SecType'
GO

EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Bond payment Frequency, Semi Annual, Qualter and etc.' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'PaymentFrequencyCode'
GO

EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Bond modified date' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'DatedDate'
GO

EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Bond Maturity Date' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'MaturityDate'
GO

EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Fix Income Coupon Rate' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'CouponRate'
GO

EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Bank Security Nbr' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'BankSecurityNbr'
GO

EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Stock Ticker Symbol' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'TickSymb'
GO

EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'EQ or FI' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'Class1'
GO

EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Bond, Corpration Bond or Rights' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'Class2'
GO

EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'MBS, for example, FREDDIE MAC or FANNIE MAE' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'Class3'
GO

EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'MBS, for example, FR RA7707, FN CB8526' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'PoolNbr'
GO

EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'G+ Num Days table Delay' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'NumDaysDelay'
GO

EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'G+ First Interest table Date' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'FirstInterestDate'
GO

EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'G+ Next Interest table Date' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'NextInterestDate'
GO

EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'G+ Record table Date' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'RecordDate'
GO

EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'G+ Prev Interest table Date' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'PrevInterestDate'
GO

EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'G+ Next Call table Date' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'NextCallDate'
GO

EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Security Type Code' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'SecTypeCode'
GO

EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Bucket Security Type' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'BucketSecurityType'
GO

EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Bucket Security Location' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'BucketSecurityLoc'
GO

EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Prod Sort Code' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'ProdSortCode'
GO

EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'BaNCS Security ID' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'BaNCSSecId'
GO

EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Market Place' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'MarketPlace'
GO

EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Coupon Rate Full' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'CouponRateFull'
GO

EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Security Description from CDS' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'SecurityDesc'
GO

EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Security Description Short from CDS' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'SecurityDescShort'
GO

EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Instrmnt Type Mnmnc' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'InstrmntTypeMnmnc'
GO

EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Instrmnt Type Desc' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'InstrmntTypeDesc'
GO

EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Instrmnt SubType Mnmnc' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'InstrmntSubTypeMnmnc'
GO

EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Instrmnt SubType Desc' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'InstrmntSubTypeDesc'
GO

EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'SMTBUSA Price Group ID' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'SMTBUSAPriceGroupID'
GO

EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'BaNCSBusiness date from header record' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'BaNCSBusinessDate'
GO

EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'File generationg datetime from header record' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'FileHeaderDate'
GO

EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Pool Factor' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'PoolFactor'
GO

EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Factor Date' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'FactorDate'
GO

EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Price' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'Price'
GO

EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Common Code' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'CommonCode'
GO

EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Pay Date' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'PayDate'
GO

EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Pricing Date' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'PricingDate'
GO

EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Record Identifier' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'RecordIdentifier'
GO

EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'User who Created' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'CreatedBy'
GO

EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Creation Dateime' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'CreatedDate'
GO

EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Record modified by user' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'ModifiedBy'
GO

EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Record modified time by user' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'Security', @level2type=N'COLUMN',@level2name=N'ModifiedDate'
GO


IF EXISTS
(
    SELECT *
    FROM sys.objects
    WHERE object_id = OBJECT_ID(N'dbo.Security')
          AND type IN ( N'U' )
)
   AND EXISTS
(
    SELECT *
    FROM sys.objects
    WHERE object_id = OBJECT_ID(N'dbo.Security_GCR')
          AND type IN ( N'U' )
)

BEGIN

TRUNCATE TABLE dbo.Security

INSERT INTO dbo.Security 
(
	   SecID
	  ,SecCategoryID
	  ,CountryID
	  ,SecCode
	  ,SecTypeAbb
	  ,CUSIP
	  ,SEDOL
	  ,ISIN
	  ,SecurityDesc1
	  ,SecurityDesc2
	  ,SecurityCategoryCode
	  ,CCYCode
	  ,ISOCountry
	  ,CountryName
	  ,SecType
	  ,PaymentFrequencyCode
	  ,DatedDate
	  ,MaturityDate
	  ,CouponRate
	  ,BankSecurityNbr
	  ,TickSymb
	  ,Class1
	  ,Class2
	  ,Class3
	  ,PoolNbr
	  ,NumDaysDelay
	  ,FirstInterestDate
	  ,NextInterestDate
	  ,RecordDate
	  ,PrevInterestDate
	  ,NextCallDate
	  ,SecTypeCode
	  ,BucketSecurityType
	  ,BucketSecurityLoc
	  ,ProdSortCode	  
	  ,BaNCSSecId
	  ,MarketPlace
	  ,CouponRateFull
	  ,SecurityDesc
	  ,SecurityDescShort
	  ,InstrmntTypeMnmnc
	  ,InstrmntTypeDesc
	  ,InstrmntSubTypeMnmnc
	  ,InstrmntSubTypeDesc
	  ,SMTBUSAPriceGroupID	  
	  ,BaNCSBusinessDate
	  ,FileHeaderDate
	  ,PoolFactor
	  ,FactorDate
	  ,Price
	  ,CommonCode
	  ,PayDate
	  ,PricingDate
	  ,RecordIdentifier
	  ,CreatedBy
	  ,CreatedDate 
	  ,ModifiedBy
	  ,ModifiedDate	  
)

SELECT 
	   SecID
	  ,SecCategoryID
	  ,CountryID
	  ,SecCode
	  ,SecTypeAbb
	  ,CUSIP
	  ,SEDOL
	  ,ISIN
	  ,SecurityDesc1
	  ,SecurityDesc2
	  ,SecurityCategoryCode
	  ,CCYCode
	  ,ISOCountry
	  ,CountryName
	  ,SecType
	  ,PaymentFrequencyCode
	  ,DatedDate
	  ,MaturityDate
	  ,CouponRate
	  ,BankSecurityNbr
	  ,TickSymb
	  ,Class1
	  ,Class2
	  ,Class3
	  ,PoolNbr
	  ,NumDaysDelay
	  ,FirstInterestDate
	  ,NextInterestDate
	  ,RecordDate
	  ,PrevInterestDate
	  ,NextCallDate
	  ,SecTypeCode
	  ,BucketSecurityType
	  ,BucketSecurityLoc
	  ,ProdSortCode	  
	  ,BaNCSSecId
	  ,MarketPlace
	  ,CouponRateFull
	  ,SecurityDesc
	  ,SecurityDescShort
	  ,InstrmntTypeMnmnc
	  ,InstrmntTypeDesc
	  ,InstrmntSubTypeMnmnc
	  ,InstrmntSubTypeDesc
	  ,SMTBUSAPriceGroupID	  
	  ,BaNCSBusinessDate = GETDATE()
	  ,FileHeaderDate = GETDATE()
	  ,PoolFactor
	  ,FactorDate
	  ,Price
	  ,CommonCode
	  ,PayDate
	  ,PricingDate
	  ,RecordIdentifier
	  ,CreatedBy = SUSER_SNAME()
	  ,CreatedDate = GETDATE()
	  ,ModifiedBy
	  ,ModifiedDate	  

FROM dbo.Security_GCR

END

GO

--------------------------------END TABLE SCRIPT FOR Security---------------------------------------------------------
